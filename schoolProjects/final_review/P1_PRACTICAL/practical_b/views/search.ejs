<!-- Adding header partial -->
<%- include(`./partials/header.ejs`) %>

<!-- Navbar for search route with added back to trending button -->
<nav class="navbar navbar-light bg-light">
    <form action="/" class="">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Back to Trending!</button>
    </form>
    <div>
    <form id="searchBar w-50" class="form-inline" method="GET" action="/results" autocomplete="off">
      <input class="form-control" type="search" placeholder="Search" name="search" id="search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>
    </div>
</nav>

<!-- Gallery for images -->
<div class="gallery " id="gallery">
    <div class="mb-3 d-flex justify-content-between flex-wrap">
        <!-- Using forEach to loop over data passed from back-end and displaying an image for each by changing out src -->
        <% gifs.forEach(data => { %>
            <img class="img-fluid" src="<%- data.images.original.url %>" alt="Card image cap">
        <% }) %>
    </div>
</div>

<!-- Load more button that refreshes the page with 24 new gifs -->
<form class="d-flex justify-content-center" action="/results" method="GET">
    <!-- Increasing offset variable passed from back end by set amount so we get new gifs -->
    <input type="hidden" name="offset" id="offset" value="<%- offset + 24 %>">
    <!-- Using search variable passed from back end so that what is searched is persistant -->
    <input type="hidden" name="search" id="search" value="<%= search %>">
    <button class="btn btn-outline-success btn-lg btn-block my-1 mx-1" type="submit">More Please!</button>
</form>
  
<!-- Adding footer partial -->
<%- include(`./partials/footer.ejs`) %>